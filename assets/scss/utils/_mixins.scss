// Mixins
//
// This must be imported after `_variables.scss`, as the mixins
// make heavy use of them.

// Overridden from Bootstrap 4.
@mixin button-variant($color, $background, $border) {
  $active-background: darken($background, 10%);
  $active-border: darken($border, 12%);

  color: $color;
  background-color: $background;
  border-color: $border;
  @include box-shadow($btn-box-shadow);

  @include hover {
    color: $color;
    background-color: $active-background;
        border-color: $active-border;
  }

  &:focus {
    color: $color;
    background-color: $active-background;
        border-color: $active-border;
  }

  &:active {
    color: $color;
    background-color: $active-background;
        border-color: $active-border;
    // Remove the gradient for the pressed/active state
    background-image: none;
    @include box-shadow($btn-active-box-shadow);

    &:hover,
    &:focus {
      color: $color;
      background-color: darken($background, 17%);
          border-color: darken($border, 25%);
    }
  }

  &.disabled,
  &:disabled {
    &:focus {
      background-color: $background;
          border-color: $border;
    }
    @include hover {
      background-color: $background;
          border-color: $border;
    }
  }
}

@mixin button-plain-variant($color, $border) {
  color: $color;
  background-image: none;
  background-color: transparent;
  border-color: $border;

  @include hover {
    color: $color;
    border-color: $color;
    background-color: transparent;
  }

  &:focus {
    color: $color;
    border-color: $color;
    background-color: transparent;
  }

  &:active {
    &, &:focus {
      color: #fff;
      background-color: $color;
      border-color: $color;
    }
  }

  &.disabled,
  &:disabled {
    color: $btn-disabled-plain-color;
    background-color: $btn-disabled-plain-bg;
    border-color: $btn-disabled-plain-border;
  }
}

@mixin caret-base($position: after) {
  &::#{$position} {
    display: inline-block;
    width: 0;
    height: 0;
    margin-left: $caret-width;
    vertical-align: middle;
    content: " ";
    border-right: $caret-width solid transparent;
    border-left: $caret-width solid transparent;
  }
}

// Create carets.
@mixin caret($dir: down, $position: after) {
  &::#{$position} {
    @if $dir == 'up' {
      border-bottom: $caret-width solid;
    }
    @else {
      border-top: $caret-width solid;
    }
  }
}
